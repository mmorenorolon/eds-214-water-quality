{
  "hash": "dd2e6d96c5d62cb01a848cd55c9dd006",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"paper\"\nformat: html\neditor: visual\n---\n\n\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##                                 Background                               ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n\n\n\n\n  \n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##                                    Data                                  ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Reading in each file and creating a subset of the data we are interested in\nbq1 <- read.csv(here::here(\"data\", \"knb-lter-luq.20.4923064\", \"QuebradaCuenca1-Bisley.csv\")) %>%\n  clean_names() %>%\n  mutate(sample_id = case_when(\n    sample_id == \"Q1\" ~ \"BQ1\")) %>% \n mutate(year = lubridate::year(sample_date)) %>% \nfilter(1988 <= year & year <= 1994)\n\nbq2 <- read.csv(here::here(\"data\", \"knb-lter-luq.20.4923064\", \"QuebradaCuenca2-Bisley.csv\")) %>%\n  clean_names() %>%\n  mutate(sample_id = case_when(\n    sample_id == \"Q2\" ~ \"BQ2\")) %>% \n  mutate(year = lubridate::year(sample_date)) %>% \n  filter(1988 <= year & year <= 1994)\n\nbq3 <- read.csv(here::here(\"data\", \"knb-lter-luq.20.4923064\", \"QuebradaCuenca3-Bisley.csv\")) %>%\n  clean_names() %>%\n  mutate(sample_id = case_when(\n    sample_id == \"Q1\" ~ \"BQ3\")) %>% \n  mutate(year = lubridate::year(sample_date)) %>% \n  filter(1988 <= year & year <= 1994)\n\npmr <- read.csv(here::here(\"data\", \"knb-lter-luq.20.4923064\", \"RioMameyesPuenteRoto.csv\")) %>%\n  clean_names()  %>%\n  mutate(sample_id = case_when(\n    sample_id == \"MPR\" ~ \"PRM\")) %>% \n  mutate(year = lubridate::year(sample_date)) %>% \n  filter(1988 <= year & year <= 1994)\n```\n:::\n\n\n\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##                                  Methods                                 ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# The weeks_since_start function copies the input data frame and adds \n# a new column containing the number of weeks that have passed since the initial\n# observation\nbq1$weeks_since <- weeks_since_start(bq1)\nbq2$weeks_since <- weeks_since_start(bq2)\nbq3$weeks_since <- weeks_since_start(bq3)\npmr$weeks_since <- weeks_since_start(pmr)\n\n# The roll_mean functions calculates the rolling mean of five columns of \n# interest in 9 week windows. Returns a data frame containing those rolling means\n# and the weeks since the start\nbq1_cleaned <- roll_mean(bq1)\nbq2_cleaned <- roll_mean(bq2)\nbq3_cleaned <- roll_mean(bq3)\npmr_cleaned <- roll_mean(pmr)\n\n# The rolling_mean function converts column containing weeks since the start\n# back into a standard date format.\nbq1_cleaned <- weeks_to_dates(bq1_cleaned)\nbq2_cleaned <- weeks_to_dates(bq2_cleaned)\nbq3_cleaned <- weeks_to_dates(bq3_cleaned)\npmr_cleaned <- weeks_to_dates(pmr_cleaned)\n\n# Data frames are merged by binding rows. An ID column is added to \n# distinguish the data frames. The IDs are then changed to have proper\n# identifiers\nmerged_data_frame <- bind_rows(bq1_cleaned, bq2_cleaned, bq3_cleaned, pmr_cleaned, .id = \"data_source\") %>%\n  mutate(data_source = case_when(\n    data_source == 1 ~ \"BQ1\",\n    data_source == 2 ~ \"BQ2\",\n    data_source == 3 ~ \"BQ3\",\n    data_source == 4 ~ \"PRM\"\n  ))\n\n#Plotting the data\n# Runs the testing file\nmerged_plots <- create_combined_graph() + plot_layout(axes = \"collect\", guides = \"collect\") & \n  theme(plot.margin = unit(c(0.1,0.1,0.1,0.1), \"cm\"), \n        axis.title.x = element_text(hjust = 0.5, size = 15))\n```\n:::\n\n\n\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##                                  Results                                 ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmerged_plots \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 12 rows containing missing values or values outside the scale range\n(`geom_line()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 275 rows containing missing values or values outside the scale range\n(`geom_line()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](paper_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggsave(plot = merged_plots, here::here(\"figs\", \"merged_plots.jpg\"), width = 6, height = 4)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 12 rows containing missing values or values outside the scale range\n(`geom_line()`).\nRemoved 275 rows containing missing values or values outside the scale range\n(`geom_line()`).\n```\n\n\n:::\n:::\n",
    "supporting": [
      "paper_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}